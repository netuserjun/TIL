# 데이터통신

# 물리층

물리층은 프로토콜 계급 중에서는 가장 낮은 계층이긴 하지만 
그 밑에 전송매체라는 또다른 계층이 있으니까 논리적인 통신이다.
물리층은 비트를 전기나 광학적인 신호로 변경해서 전송매체로 보낸다.

단순 주기 신호인 정현파는 데이터통신에서는 쓸모가 없다.
여러 개의 단순 정현파들로 이루어진 복합 신호가 필요하다.
복합신호가 주기적이라면 분해했을 때 이산 주파수를 갖는 순차적인 정현파들로 나뉜다.
비주기적이라면 분해했을 때 무한개의 연속적인 주파수를 갖는 정현파들로 나뉜다.

대역폭 : 복합 신호에 포함된 주파수의 영역 Bandwidth
네트워크에서 대역폭은 두 가지 의미를 가진다.
헤르츠 단위 대역폭은 복합 신호의 주파수 영역 혹은 채널이 통과시킬 수 있는 주파수 영역을 가리킴.
비트율 단위 대역폭은 채널 혹은 링크의 비트 전송 속도를 말한다.
디지털 신호는 무한대 대역폭을 가지는 복합 아날로그 신호다.

이 디지털 신호를 아날로그 신호로 바꾸지 않고 있는 그대로 채널을 통해 전송하는게 기저대역(baseband) 전송
이 통신은 무한대 혹은 아주 넓은 대역폭을 갖는 저대역통과(low-pass)채널이 필요하다.

디지털 신호를 아날로그 신호로 변환해서 전송하는게 광대역(broadband) 전송
band-pass(띠대역 통과) 채널을 통해 전송한다.
띠대역통과채널이 저대역통과채널보다 구하기 쉽다.

디지털 휴대전화는 아날로그 신호인 목소리를 디지털 신호로 변환하고 이걸 다시 아날로그 신호로 변조해서 띠대역통과채널로 보낸다... 왜그럴까


# 데시벨
2개의 다른 점에서 두 신호 또는 하나의 상대적 세기를 측정하는 단위
신호가 감쇠되는 경우엔 음수, 증폭되면 양수
dB = 10 x log10 의 (p2/p1)

# SNR 신호대잡음비
Signal/Noise
SNR이 높다는 건 잡음에 의해 신호가 덜 망가진다는 뜻

# 나이퀴스트 비트율
BitRate(최대비트율) = 2 x bandwidth x log2의 L(신호준위의 개수)

# 섀넌 용량
Capacity(채널용량) = bandwidth x log2의(1+SNR)

섀년용량은 상한 값을 알려주고 나이퀴스트 공식은 신호준위가 몇 개 필요한지 알려준다.

# Throughput 처리량
어떤 지점을 데이터가 얼마나 빠르게 지나가는지를 측정
대역폭은 링크의 잠재 성능 측정치이고 처리량은 실제 전송속도
따라서 항상 처리량 <= 대역폭 관계

# 지연(Latency or Delay)
지연 = 전파시간 + 전송시간 + 큐시간 + 처리시간
전파시간 = 거리 / 전파속도
전송시간 = 메시지크기 / 대역폭
큐시간은 기기들이 메시지를 처리할 때까지 메시지를 들고 있는 시간
처리시간은 패킷의 IP 헤더를 확인하여 어느 목적지로 보낼지 결정하는 시간. 패킷의 오류를 검사하는 시간

# 대역폭-지연 곱
링크를 채울 수 있는 비트의 개수

<hr/>

# 동기화 비동기화
동기화라는 단어는 정말 자주 나온다. 볼 때마다 의미가 애매해서 한국어인가 싶기도 하다.
확실히 짚어야겠다.

동기 라는 단어는 시간을 맞춘다 라는 큰 의미를 갖는다.
네트워크뿐만 아니라 다른 곳에서도 결국 '시간을 맞춘다'라는 큰 틀을 벗어나지는 않는 뜻으로 쓰인다.

데이터 통신에서 동기화라는 건 송신측에서 전달한 데이터를 수신측이 정확히 받게 한다는 거..라는데 흠
'정확한 전송을 위하여 송신측과 수신측 간에 타이밍을 맞추는 것' 결국 시간이다.

Posix.1에서는 용어를 다음과 같이 정의하고 있다.
동기 입출력 작업은 입출력을 요청한 프로세스를 I/O 작업이 끝날 때까지 봉쇄시킨다.
비동기 입출력 작업은 입출력을 요청한 프로세스를 봉쇄시키지 않는다.

"네트워크 게임은 동기화를 잘 맞춰줘야 한다."는 말에서 동기화란 server와 client 또는 peer와 peer 간의 시간을 맞추는 것을 말합니다. Network game에서는 각 computer가 서로 다른 세계를 보게 됩니다. 이 차이를 얼만큼 허용할 것인지, 어떻게 처리할 것인지가 중요합니다. 예를 들어, client A가 이동을 한다고 했을 때, 이동하겠다는 요청을 server에 보내면 server는 그것을 모든 client에 알리고, client A도 그걸 받아서 이동을 하게 되면 다른 client와 거의 비슷한 화면을 보게 됩니다. 하지만 그러면 client A는 입력 반응이 느려서 답답해집니다. 그래서 대개 이동을 요청하는 client A는 응답이 오기 전에 먼저 움직이기 시작하고, 다른 client와 약간 다른 화면을 보게 됩니다. 하지만 그게 더 좋은 game design이라고 판단하면 그렇게 하는 것입니다.

좋은 예시를 찾았다. 