# 전송층 프로토콜

내용이 많아서 파일을 분할했다.

## UDP(user datagram protocol)
사용자 데이터그램 프로토콜. 비연결형, 신뢰성 없는 프로토콜. 최소한의 오버헤드를 가진 간단한 프로토콜.

#### 형식
![image](https://user-images.githubusercontent.com/38284141/51681809-159efe00-2029-11e9-8dff-1eba93dc5922.png)
8바이트짜리 헤더는 고정된 크기다. 헤더의 처음 두 필드는 소스와 목적지 포트 번호를 정의한다. 세 번째 필드는 사용자 데이터그램의 전체 길이를 정의한다.<br> 마지막 필드는 검사합을 담는다.

#### 장점
짧은 요구와 응답이 전송되는 경우 UDP가 유용하다. 비연결 서비스이니 지연이 적다.
#### 단점
오류제어와 흐름제어가 없어서 대량의 데이터 전송에는 적합하지 않다. 

## TCP(Transmission Control Protocol)
전송 제어 프로토콜. 연결지향, GBN과 SR을 결합한 신뢰성 있는 프로토콜. 현재 인터넷에서 가장 많이 사용하는 프로토콜.<br>
#### 스트림 전송 서비스
TCP는 스트림 지향 프로토콜이다. 데이터를 전송할 때 송신측과 수신측의 프로세스가 마치 가상의 튜브에 의해 연결되는 것처럼 만든다. 
![image](https://user-images.githubusercontent.com/38284141/51687107-26557100-2035-11e9-888c-7083a22d0121.png)
#### 송신 및 수신 버퍼
송신 및 수신 프로세스가 같은 속도로 데이터를 처리할 수 없기 때문에 임시저장을 위한 버퍼가 필요하다.<br>
![image](https://user-images.githubusercontent.com/38284141/51687166-569d0f80-2035-11e9-857e-f542b0bdd0c0.png)
버퍼들은 수백 또는 수천 바이트를 가질 수 있다. 그림에서는 버퍼 크기를 동일하게 맞췄다. <br>
흰색 부분은 앞으로 채워질 수 있는 비어있는 공간이고, 파란색 영역은 송신은 됐지만 확인 응답을 받지 못한 바이트들이다. 파란색 영역은 버퍼에는 올라왔지만 아직 보내지 않은 바이트. 수신측의 파란색 부분은 받았지만 처리가 안 된 상태다.<br>
#### 세그먼트
TCP는 세그먼트라고 부르는 패킷으로 다수의 바이트를 묶어서 그룹화한다. 세그먼트의 각 크기는 다를 수 있다.
![image](https://user-images.githubusercontent.com/38284141/51689242-9d8d0400-2039-11e9-8a8d-ad74bf0a40a2.png)
<br>
![image](https://user-images.githubusercontent.com/38284141/51690172-82bb8f00-203b-11e9-8009-e29408ca0e58.png)
세그먼트는 헤더와 데이터로 구성된다. 헤더는 기본 20바이트에서 최대 60바이트다.<br>
헤더에는 필드가 여러 개 존재한다. HLEN은 헤더길이, 6개 제어필드가 있는 control 필드, 상대가 유지해야 하는 윈도우의 바이트 단위 크기, 긴급 데이터를 포함한 세그먼트를 위한 긴급 포인터 필드 등이 있다.<br>
### 연결

