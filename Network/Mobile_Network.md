## 모바일 네트워크

### 19.03.05 OT
팀 플젝은 신기술 위주(올해꺼)
중간은 1,2 계층(6), 기말은 3,4계층
<br>
## 19.03.12
고주파 대역(28, 30Ghz등)
<br>
5G 대역 : 3.5GHz(위성대역 근처지만 한국은 사용가능), 4GHz(다른나라들)
<br>
5G는 아직까지 큰 니즈도 없고 기술이 크게 발전한게 아님.(3에서 4G로 갈땐 엄청난 기술적 진보와 큰 니즈가 있었음)
<br>
지금 상황에서 5G는 큰 기대를 할 수 없다. 인프라도 없음. 서울 일부 지역만 좋은 서비스가 가능. 다른 지역은 4G가 더 좋음
<br>

### 히스토리
마르코니는 전파로 신호를 보낼 수 있겠다를 발견. 엔지니어. 처음으로 무선통신 사용.
<br>
FCC 미국의 주파수를 할당해주는 조직
<br>
단방향 통신(방송) 벨랩에서 기술을 만들어냄.
<br>
80년 초 셀룰러 폰이 처음 등장. 벨랩 모토로라가 함께. FM라디오와 동일한 기술.
<br>
AT&T가 독과점에 걸려 공중분해. 벨랩에서 트랜지스터도 만들었다.
<br>
유럽에서 2세대 통신기술 개발 : GSM(TDMA)
<br>
미국에서는 컬컴이 CDMA를 통한 2세대 통신기술 개발
<br>
CDMA가 3세대 핵심기술이 됨. 
<br>
통신은 승자독식(유럽이 이김). 규모의 경제학(중국). 3세대는 음성 + 영상.
<br>
3G는 로밍이 잘 된다. 
<br>
4G는 아이폰과 안드로이드로 인해 대박을 쳤다.
<br>
와이파이 + LTE를 통한 4.5G(LTE-pro)는 지금까지 별다른 소식이 없음
<br>
5G는 시장성 문제를 해결해야함.

## Cell phone
셀은 세포. 기지국의 서비스 범위를 셀이라고 부름
<br>
이동성 지원. 
<br>
3.5기가 대역에서는 이동성 보장이 쉽지만 더 높은 28기가대역 이상은 파장 자체의 한계가 있음
<br>
2세대부터 SMS, 기지국 하나에 20명정도
<br>
2002쯤 3세대부터 인터넷이 가능. 최대속도가 2mbps 실제는 144kbps. 카메라 달린 폰이 나옴. 
<br>
4세대부터 최대속도가 1Gbps LTE는 3.5G수준(500mbps) 주파수 묶어서 LTE-A기술을 만들어냄.
<br>
5G는 데이터율을 늘릴 뿐만 아니라 지연시간도 줄이고자 함. 그리고 mMTC 하나의 기지국에서 수만개
<br>

#### 3GPP 
거대기업(인텔 삼성 화웨이 퀄컴 등등)들의 사설 이익단체. 표준화 (release)
한국내에선 TTA

### 5G 핵심기술
고주파를 쓰자
<br>
안테나를 늘리자(단말은 안테나2~4개 기지국은 32개)
<br>
기지국을 촘촘히 설치하자(셀을 작게)
<br>
Multi-RAT(데이터를 따블로 받자)

### 이동통신 방식
FDMA와 TDMA는 이론적으로 성능이 비슷하다. 하나가 더 우월하지 않다.
<br>
CDMA는 코드확산방식인데 고속 이동통신에 적합하지 않다.
<br>
OFDM은 FDM의 변형방식. FDMA처럼 가드밴드를 두지 않은 디지털 기술.
<br>
주파수 홉핑방식. 군용통신. 주파수에 따라 환경이 달라질 수 있음.
<br>
<br>
단말과 기지국 중 단말의 모뎀을 만드는게 가장 어렵다. 모뎀칩은 퀄컴이 가장 잘 만든다.
<br>

## 19.03.19  3장 확률과통계 선형대수학
call rate, call duration : 단위 시간당 몇개의 음성통화가 도착했는지, 확률분포 기반 <br>

### 확률변수 random variable
동전의 앞면을 1, 뒷면을 0이라고 했을 때, 확률변수는 1과0. <br>
함수와 가깝다. <br>
discreate (정수)변수 : 성인인가 아닌가 남자인가 여자인가.. mass 함수<br>
continuous (실수)변수 : 키가 몇인가 몸무게가 몇인가. 확률의 density 함수<br>

CDF : PDF때문에 이걸 사용해야함. 0.5는 pdf로는 미분 불가능(0.5나올 확률이 확뛰어서). CDF는 완만하게 올라가는 성질때문에 미분가능. <br>
CDF는 X보다 작거나 같을 확률. CDF를 미분하면 PDF<br>
<br>
평균값은 전체를 대표하기가 어렵다. 중간값을 봐야한다. 중간값은 찾기가 어려운데 CDF가 0.5가 되는 지점의 X값을 찾으면 된다.<br>
variance : 평균과 얼마나 떨어져있는가. 분산.  second moment<br>
nth moment : 원래있는 값의 지수승을 ... 확률값을 모를때는 이걸 찾는게 쉽다. 이거 미분하면 PDF.<br>
Binomial distribution: 동전 10번 던졌을 때 앞면이 3번나올확률. <br>
Binomial과 포아송분포의 연결 시험. <br>
Geometric : 성공확률이 0.1이면 k번만에 성공할 확률은? 패킷을 보내는데 에러가 날 확률이 있는데 패킷이 10번시도해서 갈 확률(지연시간)은?<br>
normal(Gaussion) : 동전던지기 하다가 더하기 하기가 힘드니까 적분을 하자. <br>
uniform : 많이 사용안됨. 너무 단순. 미분불가. <br>
chi-squared : 카이스퀘어분포. 자유도...<br>
Rayleigh : 루트씌운거 <br>
Erlang : 정수개만큼 더하자 <br>
Gamma : 실수개만큼 더하자 얼랑 포함 변수 2개를 갖고 있는데<br>
위키피디아 보고 서로 연관이 잇구나. <br>
Exponential : 전화를 빨리 끊는 사람과 오래 통화하는 사람들의 그래프. <br>
long tail : 사람들의 의견이 굉장히 다양한거. 그래프의 테일이 길게 이어지는거 <br>
벡터는 전체의 정보를 쭉 나열한거. 선형대수학은 다변수형태를 가장 잘 다룰수있는거. <br>
Bayes’ Theorem : 머신러닝의 기초. 숙지 <br>
<br>
이런걸 하는 이유가 기지국이 단말이 보낸 정보를 추론하기위해. <br>

## 19.03.26 4장 Mobile radio propagation
실제로 전파가 전달되는 무선채널에 대해.  <br>
난반사(scattering): 산란  <br>
 <br>
에너지는 공기입자에 의해 손실된다. 이런 손실이 없는 진공상태를 가정한 Free-Space 환경에서는 구의 겉넓이로.. <br>
받을 수 있는 에너지 양은 거리의 제곱에 반비례.  <br>

안테나 gain 이득 : 전파를 끌어모으는 능력.  <br>
기지국이 쏘는 W는 20~40W <br>
단말은 최대 200mW 실제로는 100mW 이하.  <br>
 <br>
실제로는 이런 수식으로 계산될 수 없고 건물때문에 달라진다.  <br>
L = LpLsLf <br>
Lp : path loss 거리의 제곱에 반비례하는거. 같은 거리라도 건물에 따라 달라짐. 위치에 따라 변함. 시간은 관계없음.<br>
carrier frequency : 주파수 대역이 여기에 영향을 준다. 작을수록 멀리간다. 이게 커질수록 로스가 커진다. <br>
도시, 한산한 도시, 광야 등등 수식은 외울필요없음. <br>

<br>
Ls : slow Fading :  건물때문에 그늘이 생기는거. 얘는 그냥 랜덤변수. DB 단위에서 normal distribution을 따른다. <br>
<br>
Lf : fast Fafing : 위치 고정시 위에 두개는 안변함. 새가 날고 나뭇잎이 떨리는 수준. 시간에 따라 변하는게 이거. <br>
3g부터는 1ms단위로 보면 얘도 값을 구할 수 있음. <br>
rich scattering 환경 : 반사가 너무 많이 일어나서 360도 모든 방향에서 전파가 들어옴.<br>

전자파는 싸인함수다. <br>
벡터의 합으로 phasor... 싸인은싸인끼리 코싸인은 코싸인끼리 더해서. <br>
모든 신호는 2차원 평면에서 어디에 점이 찍힐지 모름. 위상도 모르고 진폭도 모름. <br>
어디서 찍힐 지 모르는 점들의 전체 효과의 합을 나타내면, x축 y축 모두  normal distribution,정규분포를 따름. <br>
위상은 x축으로부터의 각도를 통해 나오게 된다. <br>
진폭은 피타고라스 정리를 통해 구할 수 있다. <br>

도플러 쉬프트

OFDM : ISI에 강하다. <br>
<br>
셀의 모양은 반드시 육각형일 필요는 없으나 가장 효과적이다. <br>
<br>
핸드오버 문제 : 핑퐁이펙트에 대해 설명, 마진과의 관계에 대해 설명 <br>
데이터 용량이 몇기가bps가 나오는가를 계싼할수잇어야한다. <br>
쾀?신호 : 위상과 진폭으로만 신호를 설명할 수 있다. <br>

셀이 작아질수록 핸드오버 문제가 심각함. <br>
기지국 입장에서는 120도 각도로 3개그룹으로 매핑된게 많음. 각각이 섹터. <br>
120도가 가장 현실적인 방법 <br>

## 5장 Multiple radio access

여러 개의 장치들이 한정된 자원을 어떻게 잘 나눠서 쓰냐. 양자역학과 관련된 학문.. <br>
하나의 자원을 두명 이상이 사용하려고 할때 문제가 생긴다. 충돌. 깨진다. <br>
시간이 지나면서 깨지는 걸 그대로 두지 않고, 두 신호의 세기차이가 크면 큰걸 먼저 디코딩하고 그걸 제외한 나머지 약한 신호를 디코딩해서 둘 다 살릴 수 있다. 하지만 둘의 신호가 비슷하면 아무것도 할 수 없다. <br>

두 가지 방식이 존재. <br>
경쟁방식과 스케쥴링방식 다이나믹컨트롤(쓸때만 적재적소에 할당하겟다.)<br>
컨트롤 오버헤더가 많은건 다이나믹. 랜덤엑세스가 머신러닝과 연관이 많다. <br>
용어가 많은데 경쟁이 있나 없나가 중요함 <br>
랜덤엑세스 경쟁방식 : 알로하. 슬롯티드 알로하 단말이 켜졋을때 기지국에게 알리는 방식. 여전히 존재 <br>
<br>
슬롯티드 알로하 : 모든 장치가 같은 시계를 가지고 눈치안보고 자기 보내고싶을 때 슬롯에 맞춰 데이터를 보낸다. 같은 슬롯에 보내면 충돌. 아무도 안보내면 그냥 idle 상태. 포아송 분포로 나타낼 수 있다. 대문자 T는 슬롯길이. 성공확률은 블라블라. 위로 볼록한 함수. 대문자G가 1이 되야 최댓값이 된다. 즉 한 슬롯당 하나의 기기만 사용해야 최대 효율이 난다. 0.368 <br>
<br>
퓨어(언슬로티드) 알로하 : 아무때나 막쏴. 패킷이 길이가 있으니까, 앞으로 T 뒤로 T 만큼의 간격이 있어야 충돌이 안난다. 2 x T시간이 중요하다. 효율은 슬롯알로하의 절반 정도라는 예상이 된다. 슬롯알로하 식의 G가 2G로 바뀐다. 0.18 쓰루풋을 구하라! <br>
<br>
CSMA : 남들이 쓰냐 안쓰냐(에너지디택션) 눈치보고 쓰는것. LBT 라고도 불린다. 아무도 안쏜다 싶으면 자기가 쏜다. 나머지는 슬롯티드 알로하랑 비슷. <br>
nonpersistent 방식 : 누군가 쏘고잇다 싶으면 한참 쉬었다가 다시 확인. <br>
1 persistent :  아무도 안쏜다는 싶었을 때 바로쏜다. <br>
p persi : 아무도 안쏜다 싶었을 떄 한 번 참고 동전던져서 앞면 나오면 쏜다. 앞면이 나올 확률은 p. 충돌 측면에서 가장 좋음. p를 조절하면서 성능 끌어올릴 수도 있음. 작을수록 성능ㅇ이 좋아지지만 딜레이 커진다. 식은 볼 필요가 없어요.<br>
<br>
CSMA cd : 공격적인 방식. 5v로 쐈는데 8V로 들리면 자기가 인지못한 신호가 잇어서 충돌이 났구나 알고 멈춘다. 충돌이 나면 나 충돌났으니까 재밍신호를 보내서 다른 단말들에게 조심하라고 한다. 패킷의 길이가 일정수준 이상 길어야 한다. 유선랜 설계할때 이 길이를 정해야 한다. propagation 타임의 2배. 초창기 10Mbps에 사용. 지금은 사라짐. 문제가 생기면 사후처리<br>

CSMA/CA : 현재 와이파이 방식. 보낼 수 있는 상황이면 얼마이상의 시간동안 기다려보고 보내도 된다고 판단하면 또 랜덤시간동안 기다렸다가 그 후 보냄. 충돌자체를 회피하는 방식. 각 단말별로 기다려야 하는 DIFS시간. 이 시간동안 아무도 안보내면 랜덤만큼 또 기다림(Contention window) 또 문제가 생기면 contenttion window 크기를 2배로 늘린다. 두배로 늘어난 크기중에서 하나를 고르는 거니까 혼동하지 말고. 비효율적일 정도로 조심해서 쏘는데 비면허대역이니까 수많은 신호가 있어서 어쩔 수 없다. 막쏘는것보다는 효율이 좋다. ack 보낼때는 DIFS보다 짧은 SIFS 만큼 기다리면 된다. 히든노드문제(RTS , CTS , NAV로 부분적 해결), 노출노드문제(마땅한 해결책은 없음). <br>
와이파이보다 LTE가 전력소모가 적다. <br>

LAA :라이센스 assisted access 와이파이 성능 극대화시키기 2배가까이 4.5G에서 쓰는 방식 <br>
SAS : spectrum access system : <br>
