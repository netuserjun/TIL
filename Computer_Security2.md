## 3장
### 접근제어 원리
접근제어를 보안정책에 따라 특정 요청에 대해 허가 혹은 거부하는 프로세스 <br>
꼭 인증이 선행되야한다. <br>
임의 접근 제어 : 규칙에 기반한 접근제어. <br>
강제 접근 제어 : 보안레벨과 허가를 비교하는 접근 제어 <br>
<br>
주체 : 객체에 접근할 수 있는 존재. 소유자, 그룹, 전체 <br>
객체 : 접근이 제어되는 자원. 레코드, 블록, 세그먼트 파일... <br>
접근 권한 : 주체가 객체에게 접근하는 방법. 읽기,쓰기,실행,삭제,생성, 검색 등등<br>
<br>
### 임의 접근 제어
DAC : 어떠한 신원을 확인해서 확인된 존재한테 권한을 주는거. 접근제어행렬 사용. 고전적인 방법. <br>
ACLs : 접근제어 목록. 접근행렬을 행으로 분리한거. 각 객체(파일)의 관점에서 접근가능한 주체들의 리스트. <br>
CL 가용성리스트,가용성티켓 : 접근행렬을 이용해서 만들 수 있는데, 위에 ACLs와 다르게 주체의 관점에서 나타낸 것. <br>
접근 제어들의 권한에 대한 검증 구분(ACL CL)
SAND94 권한 테이블 : 관계형 데이터베이스 사용 <br>
<br>
접근제어모델 : <br>
접근제어 행렬을 확장..주체와 객체뿐 아니라 여러가지 추가로 나타냄<br>
주체와 객체 사이에 접근 제어 매커니즘이 있음. 주체가 주체한테 권한을 할당할 수도 있음.<br>
<br>
보호 도메인 : OS에서 사용자모드 커널모드처럼 권한이 부여된 명령만 보호된 영역에 접근 가능. <br>
<br>
접근제어가 이렇게 사용하면 불편한거 같아서 나온게 역할기반접근제어. <br>
### 역할기반접근제어
RBAC 전통적인 DAC 시스템과는 다르게 개별 사용자 및 그룹의 접근 권한을 정의하는 모델. <br>
각 사용자 대신 역할을 줘서 접근 권한을 할당 <br>
사용자는 동적이나 정적으로 책임에 맞는 역할을 수행 <br>
상업적으로 가장 많이 쓰임. <br>
주체와 객체 사이에 role을 주고 role을 통해 접근하겠다. <br>
각 role에는 하나 이상의 자원에 대한 특정 접근 권한이 부여. <br>
사용자는 기본적으로 하나 이상의 role을 갖는다. <br>
<br>
role은 role에 대한 역할계층구조(트리구조)가 있다. 각 role은 그 자체로 하나의 객체 취급될 수 있고, 최소한의 접근 권한의 집합을 포함해야한다. <br>
RBAC 0부터 3까지. 모델간의 관계 <br>
계층구조와 최소권한원칙. <br>
<br>
#### RBAC 0 
가장 기본 모델. 역할 계층 및 제약에 조건이 없음 <br>
사용자, 역할, 허가, 세션(사용자가 할당된 역할에 대해 그게 유효한가 아닌가) <br>
세션은 승인과는 관련이 없다. 저 위에 접근제어모델보다 융통성이 있다. 역할과 역할-승인과의 다대다 관계가 있다. <br>

#### RBAC 1
대표적 특징이 역할계층구조. 역할의 계층구조를 반영하는 수단을 제공한다. 실제 상업적으로 많이 쓰는 모델. <br>
큰 직무는 더 큰 권한을 가진다. <br>
문제는 큰 권한을 가진 사용자가 무슨짓을 할지모른다. <br>
그래서 제약조건을 추가한게 2.<br>

#### RBAC 2
RBAC를 조직 내의 관리 및 보안 정책의 세부사항에 적용하지 위한 수단으로 제공. <br>
제약 조건 : 상호 배타적 역할. 카디널리티, 필수역할.  요거 3가지 뭔지 알아두자.<br>
<br>
상호 배타적 역할: 사용자가 역할 집합에 있는 하나의 역할에만 할당. 직무와 능력을 분리 <br>
한 사용자는 오직 하나의 역할에만 할당될 수 있다. <br>
상위 권한자가 모든 곳에 접근을 할 수는 있지만 접근 가능한 곳은 한 번에 하나.. <br>
<br>
카디널리티 : 역할에 대해서 최대 횟수을 설정. 최고 권한자는 한 명으로 제한. <br>
<br>
필요 조건(필수역할) : 최소 권한 개념의 구현에 사용. <br>
하위 역할을 할당받은 사용자만 상위역할에 할당될수 있다.<br>
<br>

### 속성 기반 접근 제어 ABAC
자원(객체)과 주체의 속성에 대한 조건을 표현하는 허가를 정의. 속성을 이용하는 게 포인트. <br>
유연성과 표현력을 가진다. 웹서비스에서 사용.. <br>
중요한 3가지 속성 : 주체 , 객체 , 환경 <br>
주체와 객체는 이전과 같고, 환경은 운영, 기술, 상황 등등 모든거. <br>
대부분의 접근제어 정책에 환경은 무시되어 왔음. <br>
현재 날짜와 시간, 현재 해커의 동작 등등 이런 상황을 생각하자. <br>
<br>
인증된 주체에 대해 접근 제어 메커니즘은 주체, 객체, 현재 환경조건의 속성에 접근해서 허가를 결정한다.<br>
복잡도가 심한데, 신뢰성은 높음. <br>
권한 : 주체의 허가된 행위. <br>
<br>
ABAC은 역할이 필요없고 새로운 정책규칙이 추가될때 AND 규칙을 추가하기만 하면 된다. <br>
RBAC은 새로운 정책 규칙 추가가 표현되기 어렵다. <br>
<br>
환경에 따라 ABAC과 RBAC은 사용처가 다르다. 환경에 민감하면 ABAC, 회사같은 관리구조는 RBAC을 쓰면 된다. <br>


### 자격 기반 접근 제어
최근 제안된 방법. CapBAC(Capability BAC). <br>
RBAC은 최근 IoT환경에서 폭발적인 디바이스의 증가를 수용(싹다 역할을 줘야하니까)하기 힘들고, ABAC은 다수의 디바이스가 연동되는 사물인터넷 환경의 속성들을 동일하게 일치시키기 어렵다. 또 두 방법 모두 권한 위임의 어려움이 존재한다. <br>
사물인터넷 시스템의 접근제어를 위해 자격기반접근제어 기법이 제안됐다. <br>
'최소권한원칙'과 '권한 위임기능'을 부여. 주체에게 자신의 서비스 및 정보에 대한 접근제어 관리 <br>
핵심은 토큰!! 특정 리소스를 사용할 수 있는 권한 요청 시 토큰을 발급해서 사용할 수 있게 한다. 일정시간 지나면 토큰은 무효화.<br>

### ICAM
미국이 개발한 거시기. 그냥 저런게 잇더라 식으로 패스. <br>

### 시스템 접근제어
보안정책 그림들... 읽는식으로 설명. <br>


## 4장 데이터베이스, 클라우드 보안
4장부터는 응용,실무와 관련된 보안.

### 데이터베이스 보안
데이터베이스의 중요한 정보들은 일반적으로 하나의 로컬 시스템에 통합되어 저장. <br>
데이터베이스 보안은 통합된 정보 관리 전략의 필수적인 요소 <br>
데이터베이스 보안과 데이터베이스 의존 사이에 심한 불균형 존재. <br>
DBMS의 복잡도 증가는 새로운 취약점과 잠재적 오용이 내포 <br>
DB는 웹의 HTTP보다 복잡한 SQL을 사용. SQL의 보안 취약성<br>
일반적으로 조직에서는 DB보안 전담 인력이 부족. DB관리자 DB보안 관리자를 따로 둘다 가져야함.<br>

### SQL Injection Attack
가장 널리 사용되며 위협적인 네트워크 기반 보안 공격. <br>
위해한 SQL 명령을 데이터베이스 서버로 전송. 목적은 대량의 데이터 추출, 삭제, 변경이나 오작동 등 <br>
해커는 웹 응용프로그램의 취약성을 찾고, 웹서버에 명령을 보내 SQL 명령을 DB에 주입....그림보고확인 <br>
조기 종료된 문자열에 새 명령어를 추가해서 SQL 공격함. <br>
삽입된 명령은 실행 전에 부가적으로 추가된 문자열을 가질 수 있기 때문에, 공격자는 주입된 문자열을 주석 표기 “- -”로 끝마침 <br>
후속 텍스트는 실행 시 무시됨 <br>
<br>
대역 내 공격 : 같은 통신 채널 사용. 공격명령어가 들어간 경로와 공격의 결과가 나오는 경로가 같음.<br>
하나 혹은 여러 조건문에 코드 주입해서 항상 참이 되게 함. 일반적인 공격.<br>
<br>
대역 외 공격 : 공격 명령어가 들어간 경로가 아닌 다른 채널로 그 결과가 반환됨. 쿼리결과로 이메일이 생성되서 공격자에게 보내짐. <br>
DB서버의 응답이 불안정할 때 사용 가능. 정보 검색에 제한이 있음. <br>
<br>
추론적 공격 : 직접적인 공격은 아니고(데이터 전송이 없음), 특정 요청을 보내고 웹사이트와 DB서버의 결과 행위를 관찰함으로써 정보를 재구성. <br>
DB의 유형과 구조에 대한 정보 수집을 위한 공격. 공격 이전의 예비 단계 수준. <br>
<br>
방어방법 : 수동 방어적 코딩과 매개변수 쿼리 삽입 등등.. 코딩할때 SQL 안당하게 해라.. 당연한 얘기.<br>
탐지 : 시그니처 기반(특정 공격 패턴을 찾음, 항상 업데이트 되야 함), 행위 기반(정상과 비정상을 정의하고 비정상 행위 탐지), 코드분석 <br>
실시간 감시 : 실시간으로 쿼리 확인. 자동화된 솔루션이 다양하게 존재. <br>

### DB 접근 제어
중앙관리 : 소수의 특권 사용자(관리자)들이 접근 권한을 부여, 파기<br>
소유권 기반의 관리 : 테이블 소유가(생성자)가 테이블 접근 권한을 부여, 파기 <br>
분산적 관리 : 테이블 소유자가 다른 사용자에게 테이블 접근 권한을 부여, 파기.  <br>
<br>
SQL 기반 접근 정의<br>
Grant :  권한 부여 / Revoke : 권한 파기 <br>
<br>
RBAC은 DB 접근제어에 적합. <br>
응용프로그램 소유자/ 소유자 제외 사용자/ 관리자.

### 추론 ( Inference )
SQL 공격의 3번째 방법과 비슷. <br>
인가된 쿼리 수행과 합법적 응답에서 비인가된 정보를 추론. <br>
민감한 데이터와 민감하지 않은 데이터가 있는데 후자와 메타데이터(데이터에 대한 부가적 정보가 담긴 데이터)에 접근해서 민감한 정보를 추론. <br>
예를 들면 접근허가된 테이블에 보낸 쿼리에 대한 답을 혼합하면 전체 테이블을 얻어내는 경우. <br>
<br>

### DB 암호화
데이터베이스 암호화의 단점 : 키관리가 어렵다. 전체를 암호화하는 경우에는 레코드 검색이 어렵다. <br>
사용자와 고객의 차이를 잘 구별해야 함. 고객은 사용자가 이용하는 시스템. <br>

### 클라우드 컴퓨팅
네트워크, 서버, 저장 장치, 응용프로그램, 서비스 같은 공유된 컴퓨팅 자원의 모음에 대한 항시적이고 편리하며 필요할 때마다 접근 가능한 모델 <br>
서비스 모델, 매치 모델은 알아두면 좋겠다. <br>
<br>
서비스 모델 : SaaS(Software as a Service) : gmail , PaaS(Platform), IaaS(Infrastructure) <br>
<br>
배치모델 : 공용클라우드 , 사적, 커뮤니티, 혼합 <br>
<br>

### 클라우드 보안
클라우드 컴퓨팅의 남용과 오용으로 인해 공격자들은 클라우드 시스템 내부에 들어와서 스팸이나 악성코드, dos 공격 시도 <br>
한번 쭉 읽어보ㅏ <br>

### 클라우드 데이터 보호
클라우드 모델 2개. <br>
Multi-instance 모델 <br>
– 각 클라우드 사용자에게 할당된 가상머신에서 독립적으로 실행되는 DBMS를 제공 <br>
– 보안에 관한 역할 정의, 사용자 인증 및 다른 관리 작업에 대해서 완전한 제어 권한을 사용자에게 부여 <br>
보안이 쫌 더 좋다. <br>
<br>
Multi-tenant 모델 <br>
– 사용자들에 똑같은 환경을 공유하고 구분을 위해서 데이터를 사용자 ID로 tagging하는 방식 <br>
– Tagging은 데이터베이스를 독점적으로 사용하는 듯한 느낌을 주지만 안전한 데이터베이스 사용 환경을 만들고 유지하는 것은 전적으로 클라우드
제공 업체에 의존하게 됨. <br>
내꺼처럼 쓰지만 실제로 돌아가는건 다른곳에 있음. 모두가 1개를 쓰니까 보안적으로 취약함 <br>
이거 기억해야대 <br>
<br>
가이드 라인은 함 읽어보고. <br>
<br>
SecaaS : 클라우드 혹은 클라우드 기반 시설을 통해 보안 응용 프로그램과 서비스를 고객에게 제공 <br>
<br>
 
### 클라우드 보안위협
기술적 : 가상화를 통한 위협(하이퍼바이저 감염), VM 내부공격 및 이로인한 침입탐지 어려움, 가상머신의 이동성에 따른 보안 문제.  <br>
관리 측면은 읽어보세요.  <br>
<br>
#### 가상화 : 물리적인 컴퓨터 자원을 추상화하는것.
마치 하나의 장비를 여러 개처럼 동작시키거나, 반대로 여러 장비를 묶어 사용자에게 공유자원으로 제공  <br>
#### 하이퍼바이저 : 가상화의 핵심. 가상화를 위해 하드웨어를 관장할 가상머신 모니터.  <br>
가상머신 여러개(host os1개 + guest os 여러 개)와 연결된 하이퍼바이저가 호스트 os를 통해 감염되면 다른 여러 가상머신까지 피해가 번진다.  <br>
 <br>
Xen의 침입탐지 시스템 그림. 하이퍼바이저가 다른 가상머신들까지 감염시키는 것을 막는 기술.  <br>
타노스피셜 클라우드 보안에 가장 중요한거. 표를 기억해두면 좋겠어요. <br>
가상화와 관련된 위협, 하이퍼바이저 감염, 가상머신 안에서 공격당할 수 있는거, 공격자의 익명성  <br>

### DB 보안 솔루션의 두가지 방식
1. DB 암호화  <br>
2. 접근제어  <br>

안성원 외 2인 클라우드 보안과 이슈 
